[33m[nodemon] 3.1.7[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
🔧 Services loaded: {
  lighthouse: true,
  pagespeed: true,
  analytics: true,
  scoring: true,
  searchConsole: true,
  technicalSEO: true
}
🔍 Supabase Config Check:
   SUPABASE_URL: https://krgaukhigntjdfacppbq.s...
   SUPABASE_SERVICE_KEY: SET
🔍 OAuth Route Environment Check:
GOOGLE_CLIENT_ID: 5384374065...
GOOGLE_CLIENT_SECRET: SET
GOOGLE_REDIRECT_URI: http://localhost:3010/api/auth/google/callback
FRONTEND_URL: http://localhost:3002
✅ OAuth2 client initialized successfully
🔍 Facebook OAuth Route Environment Check:
FACEBOOK_APP_ID: 1146428707...
FACEBOOK_APP_SECRET: SET
FRONTEND_URL: http://localhost:3002
✅ Facebook OAuth client initialized successfully
   Redirect URI: http://localhost:3010/api/auth/facebook/callback
🚀 SEO Health Score API running on port 3010
📍 Health endpoint: http://localhost:3010/api/status
🔐 Google Auth: http://localhost:3010/api/auth/google
📘 Facebook Auth: http://localhost:3010/api/auth/facebook
⚡ Lighthouse: http://localhost:3010/api/lighthouse
📈 Analytics: http://localhost:3010/api/analytics
🔍 Search Console: http://localhost:3010/api/search-console
📊 Traffic: http://localhost:3010/api/traffic
🏆 Competitor: http://localhost:3010/api/competitor
📱 Facebook Metrics: http://localhost:3010/api/facebook

🔍 Cache Status Check:
   Email: mush4rr4f@gmail.com
   Your Site: agenticforge.tech
   Competitor: pes.edu
🔍 [CompetitorCache] Looking up user by email: mush4rr4f@gmail.com
✅ [CompetitorCache] Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 [CompetitorCache] Checking cache: agenticforge.tech vs pes.edu
✅ [CompetitorCache] Cache hit! Age: 0 hours
⚠️ [CompetitorCache] Using legacy cache format (competitor only)

🔍 RAW REQUEST BODY: {
  "email": "mush4rr4f@gmail.com",
  "yourSite": "agenticforge.tech",
  "competitorSite": "pes.edu",
  "yourInstagram": "rvcollegeofengineering",
  "competitorInstagram": "pesuniversity",
  "yourFacebook": "RVCEngineering",
  "competitorFacebook": "pesuniversity",
  "forceRefresh": false
}

📊 Competitor Analysis Request:
   Your Site: agenticforge.tech
   Competitor: pes.edu
   Email: mush4rr4f@gmail.com
   Force Refresh: false
   Your Instagram: rvcollegeofengineering
   Competitor Instagram: pesuniversity
   Your Facebook: RVCEngineering
   Competitor Facebook: pesuniversity
   Has Instagram? true
   Has Facebook? true
🔍 [CompetitorCache] Looking up user by email: mush4rr4f@gmail.com
✅ [CompetitorCache] Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 [CompetitorCache] Checking cache: agenticforge.tech vs pes.edu
✅ [CompetitorCache] Cache hit! Age: 0 hours
⚠️ [CompetitorCache] Using legacy cache format (competitor only)
✅ Returning cached competitor analysis (legacy format)
⚠️ Your site data not cached, fetching fresh...
🔍 Cached competitor puppeteer.seo.headings: {
  h1: [ 'Pesuvians for Life' ],
  h2: [
    'Academics',
    'Meet our Faculty',
    'Academics',
    'Meet our Faculty',
    'Placements',
    'Placements',
    'Pesuvians for Life',
    'Research',
    'Research',
    'Campus Life'
  ],
  h3: [
    'Admissions 2026 Now Open',
    'Ph.D. and M.Tech by Research',
    'Scholarships',
    'Research Driven Learning',
    'Placements',
    'International Internships',
    'ADMISSIONS 2026 NOW OPEN',
    'Our Campuses',
    'PES University',
    'PES University',
    'PES University',
    'PES IMSR',
    'The Amaatra Academy',
    'PES Public School',
    'SSM Public School',
    'Our Campuses',
    'SSM Public School',
    'PES University',
    'PES University',
    'PES University',
    'PES IMSR',
    'The Amaatra Academy',
    'PES Public School',
    'SSM Public School',
    'PES University',
    'Undergraduate Education',
    'Postgraduate Education',
    'Lifelong Learning',
    'Dr. Shailashree Haridas',
    'Dr. V Krishna',
    'Dr. Shylaja S S',
    'Undergraduate Education',
    'Postgraduate Education',
    'Lifelong Learning',
    'Dr. Shailashree Haridas',
    'Dr. V Krishna',
    'Dr. Shylaja S S',
    'You may also be interested in',
    'Giving to PES',
    'Staying in Touch',
    'Discovering our Newsletters',
    'Information For',
    'Information About',
    'Important Info',
    'PESU Bot'
  ],
  h1Count: 1,
  h2Count: 10,
  h3Count: 45
}
   📦 Fetching cached data for user site: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Using expired Lighthouse cache (fallback mode)
   🔍 Lighthouse cache structure: ["url","chartData","timestamp","seoAnalysis","coreWebVitals","opportunities","categoryScores","resourceMetrics","scoreComparison","lighthouseVersion","performanceTimeline","accessibilityBreakdown","bestPracticesBreakdown"]
   🔍 Has categoryScores? true
   🔍 CategoryScores: {"seo":100,"performance":49,"accessibility":85,"bestPractices":96}
   ✅ Found cached Lighthouse data (Performance: 49)
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Using expired Search Console cache (fallback mode)
✅ Using cached Search Console data
   ℹ️ No PageSpeed data in Search Console cache
   ℹ️ No Technical SEO data in Search Console cache
   ℹ️ No Puppeteer data in Search Console cache
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 Checking SE Ranking cache for domain: agenticforge.tech
✅ SE Ranking cache hit! Age: 1412 minutes
   🔍 SE Ranking cache result: Found
   🔍 SE Ranking cache keys: [
  'note',            'source',
  'metrics',         'topTlds',
  'available',       'topAnchors',
  'topCountries',    'domainMetrics',
  'totalBacklinks',  'topLinkingPages',
  'topLinkingSites', 'totalRefDomains',
  'cached',          'cacheAge',
  'lastUpdated'
]
   🔍 Has backlinks_data? false
   🔍 Has totalBacklinks? true
   ✅ Found cached SE Ranking backlinks
   📊 Fetching traffic data for user site...
📊 Fetching user GA data for: mush4rr4f@gmail.com
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready
📊 Fetching GA properties for: mush4rr4f@gmail.com
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready, fetching properties...
✅ Found 1 GA4 properties
📌 Using first available property: 507800388
✅ User Analytics data received
   ✅ Got traffic data from Google Analytics (288 sessions)
   📝 Fetching content changes monitoring for user site...
🔧 ChangeDetection initialized with API key: 48fda803...
   🔧 ChangeDetection service loaded successfully
📊 Analyzing content changes for: agenticforge.tech
🔍 Searching for watch with URL: agenticforge.tech
📋 Fetching all watches...
✅ Found 4 watches
✅ Found existing watch for https://agenticforge.tech: 318e5971-bbe5-4d04-821b-185250ec9164
🔍 Fetching details for watch: 318e5971-bbe5-4d04-821b-185250ec9164
📜 Fetching history for watch: 318e5971-bbe5-4d04-821b-185250ec9164
   📊 ChangeDetection response: {
  "success": true,
  "domain": "agenticforge.tech",
  "uuid": "318e5971-bbe5-4d04-821b-185250ec9164",
  "url": "https://agenticforge.tech",
  "monitoring": {
    "lastChecked": "2025-10-22T13:11:45.000Z",
    "lastChanged": null,
    "checkCount": 1,
    "changeCount": 0,
    "status": null,
    "paused": false
  },
  "triggers": [
    "price",
    "pricing",
    "new",
    "feature",
    "launch",
    "update",
    "release"
  ],
  "history": {},
  "activity": {
    "isActive": false,
    "daysSinceLastCheck": 0,
    "daysSinceLastChange": null,
    "totalChecks": 1,
    "totalChanges": 0,
    "changeFrequency": "no changes detected",
    "activityLevel": "inactive"
  },
  "comparison": "dormant"
}
   ✅ Got ChangeDetection monitoring data (1 checks, 0 changes)
   📌 Activity Level: inactive
   📸 Fetching Instagram engagement for: rvcollegeofengineering

📱 Starting Instagram engagement analysis for: rvcollegeofengineering
📸 Fetching Instagram CID for: rvcollegeofengineering
❌ Error fetching Instagram CID for rvcollegeofengineering: Request failed with status code 429
   📘 Fetching Facebook engagement for: RVCEngineering

📱 Analyzing Facebook page: RVCEngineering
═══════════════════════════════════════════════════


🔍 Fetching Facebook page info for: RVCEngineering
❌ Error fetching Facebook page info: Request failed with status code 429
❌ Analysis failed: Request failed with status code 429
   ⚠️ Failed to fetch Facebook data: Request failed with status code 429
   📊 Cached data summary:
      - Lighthouse: ✅
      - PageSpeed: ❌
      - Technical SEO: ❌
      - Puppeteer: ❌
      - Backlinks: ✅
      - Traffic: ✅
      - Content Changes (ChangeDetection): ✅
      - Content Updates (RSS/Sitemap): ❌
      - Instagram: ❌
      - Facebook: ❌
   🔍 Puppeteer data missing, fetching separately...
🔍 Starting Puppeteer analysis for: https://agenticforge.tech
📄 Loading page: https://agenticforge.tech
✅ Puppeteer analysis completed for: agenticforge.tech
🔴 Browser closed for agenticforge.tech
   ✅ Puppeteer analysis completed for user site
   🔍 PageSpeed data missing, fetching separately...
📱 Fetching PageSpeed data for: https://agenticforge.tech
📱 Fetching mobile and desktop PageSpeed data...
✅ PageSpeed data retrieved for agenticforge.tech
   Desktop: 69% | Mobile: 55%
   ✅ PageSpeed analysis completed for user site
🔍 Your site puppeteer.seo.headings: {
  h1: [
    'Scale Your Business with AI Automation',
    'Transforming Businesses\n with\nAI Automation'
  ],
  h2: [
    'Revolutionary AI\nBusiness Solutions',
    'See Our AI Agents in Action',
    'Why Choose AgenticForge',
    'Pioneering the Future of\nIntelligent Automation',
    'Ready to Transform\n Your Business?'
  ],
  h3: [
    'Intelligent Process Automation',
    'Advanced Customer Support AI',
    'Hyper-Personalized Marketing',
    'Enterprise Voice AI Agents',
    'Ready to Transform Your Business?',
    'Intelligent AI Architecture',
    'Smooth System Integration',
    'Data Privacy & Security',
    'Tailored AI Solutions',
    'Intelligent Voice Appointment System',
    'Live Demo Available',
    'BandhanAI Marketing Campaign Engine',
    'Interactive Platform',
    'About AgenticForge',
    'Smart AI Systems',
    'Fast Implementation',
    'Dedicated Support',
    'Democratizing Intelligence',
    'Get Your Free AI Audit',
    'AI ROI Calculator',
    'Services',
    'Company'
  ],
  h1Count: 2,
  h2Count: 5,
  h3Count: 22
}
🔍 Your site pagespeed data: EXISTS
🔍 Your site pagespeed structure: {
  "dataAvailable": true,
  "url": "https://agenticforge.tech",
  "desktop": {
    "strategy": "desktop",
    "performanceScore": 69,
    "category": "AVERAGE",
    "fieldData": {
      "lcp": null,
      "fid": null,
      "cls": null,
      "overall_category": "UNKNOWN"
    },
    "labData": {
      "lcp": 2846.047438256629,
      "fid": 398,
      "cls": 0.0010208138323906533,
      "fcp": 1212.506775102814,
      "tti": 2993.236376189954,
      "tbt": 254,
      "speedIndex": 1812.1988618024025
    }
  },
  "mobile": {
    "strategy": "mobile",
    "performanceScore": 55,
    "category": "AVERAGE",
    "fieldData": {
      "lcp": null,
      "fid": null,
      "cls": null,
      "overall_category": "UNKNOWN"
    },
    "labData": {
      "lcp": 13865.47481443498,
      "fid": 367,
      "cls": 0.002695607462246732,
      "fcp": 4767.910550629263,
      "tti": 14150.976698029286,
      "tbt": 308,
      "speedIndex": 5317.256832733669
    }
  }
}
   ✅ Using cached Google Ads data for competitor
   🟢 Fetching Google Ads monitoring for your cached site: agenticforge.tech
   ✅ Got your site Google Ads data (Total Ads: 0)
   ✅ Using cached ChangeDetection data for competitor
   ✅ Using cached Meta Ads data for competitor
   🟣 Fetching Meta Ads monitoring for your cached site: RVCEngineering
[MetaAds] getMetaAdsMonitoring called with username: RVCEngineering
[MetaAds] Username received for Page ID lookup: RVCEngineering
[MetaAds] Querying RapidAPI for Page ID with URL: https://www.facebook.com/RVCEngineering
[MetaAds] Error fetching Facebook page ID: {
  message: 'You have exceeded the MONTHLY quota for Requests on your current plan, BASIC. Upgrade your plan at https://rapidapi.com/ousema.frikha/api/facebook-pages-scraper2'
}
[MetaAds] Could not resolve Facebook page ID for username: RVCEngineering
   ⚠️ Failed to fetch your site Meta Ads data: Could not resolve Facebook page ID for username.
   📸 Fetching Instagram engagement for cached competitor: pesuniversity

📱 Starting Instagram engagement analysis for: pesuniversity
📸 Fetching Instagram CID for: pesuniversity
❌ Error fetching Instagram CID for pesuniversity: Request failed with status code 429
   📘 Fetching Facebook engagement for cached competitor: pesuniversity

📱 Analyzing Facebook page: pesuniversity
═══════════════════════════════════════════════════


🔍 Fetching Facebook page info for: pesuniversity
❌ Error fetching Facebook page info: Request failed with status code 429
❌ Analysis failed: Request failed with status code 429
   ⚠️ Failed to fetch competitor Facebook data: Request failed with status code 429
   ✅ Using cached traffic data for competitor
   ✅ Using cached traffic data for your site
🔍 SEO Comparison - yourSeoData.headings: {
  h1: [
    'Scale Your Business with AI Automation',
    'Transforming Businesses\n with\nAI Automation'
  ],
  h2: [
    'Revolutionary AI\nBusiness Solutions',
    'See Our AI Agents in Action',
    'Why Choose AgenticForge',
    'Pioneering the Future of\nIntelligent Automation',
    'Ready to Transform\n Your Business?'
  ],
  h3: [
    'Intelligent Process Automation',
    'Advanced Customer Support AI',
    'Hyper-Personalized Marketing',
    'Enterprise Voice AI Agents',
    'Ready to Transform Your Business?',
    'Intelligent AI Architecture',
    'Smooth System Integration',
    'Data Privacy & Security',
    'Tailored AI Solutions',
    'Intelligent Voice Appointment System',
    'Live Demo Available',
    'BandhanAI Marketing Campaign Engine',
    'Interactive Platform',
    'About AgenticForge',
    'Smart AI Systems',
    'Fast Implementation',
    'Dedicated Support',
    'Democratizing Intelligence',
    'Get Your Free AI Audit',
    'AI ROI Calculator',
    'Services',
    'Company'
  ],
  h1Count: 2,
  h2Count: 5,
  h3Count: 22
}
🔍 SEO Comparison - compSeoData.headings: {
  h1: [ 'Pesuvians for Life' ],
  h2: [
    'Academics',
    'Meet our Faculty',
    'Academics',
    'Meet our Faculty',
    'Placements',
    'Placements',
    'Pesuvians for Life',
    'Research',
    'Research',
    'Campus Life'
  ],
  h3: [
    'Admissions 2026 Now Open',
    'Ph.D. and M.Tech by Research',
    'Scholarships',
    'Research Driven Learning',
    'Placements',
    'International Internships',
    'ADMISSIONS 2026 NOW OPEN',
    'Our Campuses',
    'PES University',
    'PES University',
    'PES University',
    'PES IMSR',
    'The Amaatra Academy',
    'PES Public School',
    'SSM Public School',
    'Our Campuses',
    'SSM Public School',
    'PES University',
    'PES University',
    'PES University',
    'PES IMSR',
    'The Amaatra Academy',
    'PES Public School',
    'SSM Public School',
    'PES University',
    'Undergraduate Education',
    'Postgraduate Education',
    'Lifelong Learning',
    'Dr. Shailashree Haridas',
    'Dr. V Krishna',
    'Dr. Shylaja S S',
    'Undergraduate Education',
    'Postgraduate Education',
    'Lifelong Learning',
    'Dr. Shailashree Haridas',
    'Dr. V Krishna',
    'Dr. Shylaja S S',
    'You may also be interested in',
    'Giving to PES',
    'Staying in Touch',
    'Discovering our Newsletters',
    'Information For',
    'Information About',
    'Important Info',
    'PESU Bot'
  ],
  h1Count: 1,
  h2Count: 10,
  h3Count: 45
}
🔍 formatHeadings result: { h1Count: 2, h2Count: 5, h3Count: 22 }
🔍 formatHeadings result: { h1Count: 1, h2Count: 10, h3Count: 45 }
🔍 Final yourHeadings: { h1Count: 2, h2Count: 5, h3Count: 22 }
🔍 Final compHeadings: { h1Count: 1, h2Count: 10, h3Count: 45 }
🔍 Final yourSite.pagespeed in response: EXISTS
🔍 Final yourSite.contentChanges in response: EXISTS
🔍 Final yourSite.instagram in response: MISSING
🔍 Final competitorSite.instagram in response: MISSING
🔍 Final competitorSite.contentChanges in response: EXISTS
🔍 Generated comparison.seo: {
  "yours": 100,
  "competitor": 79,
  "difference": 21,
  "winner": "yours",
  "scores": {
    "your": 100,
    "competitor": 79
  },
  "metaTags": {
    "your": {
      "hasTitle": true,
      "hasDescription": true,
      "title": "AgenticForge - AI Automation & Custom AI Agents for Business",
      "description": "Transform your business with AgenticForge's intelligent AI automation. We build sophisticated AI agents, chatbots, voicebots, and workflow automations using cutting-edge AI technologies. 500+ AI tools mastered, 85% task automation rate."
    },
    "competitor": {
      "hasTitle": true,
      "hasDescription": false,
      "title": "PES University",
      "description": null
    }
  },
  "headings": {
    "your": {
      "h1Count": 2,
      "h2Count": 5,
      "h3Count": 22
    },
    "competitor": {
      "h1Count": 1,
      "h2Count": 10,
      "h3Count": 45
    }
  },
  "structuredData": {
    "your": [
      {
        "type": "Organization",
        "raw": {
          "@context": "https://schema.org",
          "@type": "Organization",
          "name": "AgenticForge",
          "url": "https://agenticforge.tech",
          "logo": "https://agenticforge.tech/heroLogo.png",
          "description": "Professional AI automation agency building sophisticated AI agents and workflow automations using cutting-edge technologies.",
          "sameAs": [
            "https://www.linkedin.com/company/agentic-forge",
            "https://twitter.com/agenticforge",
            "https://facebook.com/agenticforge",
            "https://www.instagram.com/agenticforge"
          ]
        }
      },
      {
        "type": "Organization",
        "raw": {
          "@context": "https://schema.org",
          "@type": "Organization",
          "name": "AgenticForge",
          "url": "https://agenticforge.tech",
          "logo": "https://agenticforge.tech/heroLogo.png",
          "sameAs": [
            "https://www.linkedin.com/company/agentic-forge",
            "https://twitter.com/agenticforge",
            "https://facebook.com/agenticforge",
            "https://www.instagram.com/agenticforge"
          ],
          "description": "Transform your business with AgenticForge's intelligent AI automation. We build sophisticated AI agents, chatbots, voicebots, and workflow automations using cutting-edge AI technologies.",
          "address": {
            "@type": "PostalAddress",
            "addressCountry": "US"
          },
          "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "email": "agenticforge.tech@gmail.com",
            "availableLanguage": [
              "English"
            ]
          }
        }
      },
      {
        "type": "ItemList",
        "raw": {
          "@context": "https://schema.org",
          "@type": "ItemList",
          "itemListElement": [
            {
              "@type": "Case",
              "position": 1,
              "name": "Intelligent Voice Appointment System",
              "description": "Manual appointment scheduling was consuming 15+ hours weekly, with high no-show rates and poor customer experience due to delayed responses",
              "result": [
                "15 hours of weekly admin work eliminated",
                "78% reduction in no-show appointments",
                "24/7 automated appointment booking capability",
                "Seamless integration with existing calendar systems"
              ],
              "industry": "Healthcare & Professional Services",
              "provider": {
                "@type": "Organization",
                "name": "Agentic Forge",
                "url": "https://agenticforge.tech"
              }
            },
            {
              "@type": "Case",
              "position": 2,
              "name": "BandhanAI Marketing Campaign Engine",
              "description": "Generic mass emails resulted in low engagement rates, manual campaign management was time-intensive, and no real-time performance tracking",
              "result": [
                "340% increase in email engagement rates",
                "Automated personalized campaigns based on purchase history",
                "Real-time campaign performance tracking via Slack",
                "Dynamic customer segmentation and targeting"
              ],
              "industry": "E-commerce & Retail",
              "provider": {
                "@type": "Organization",
                "name": "Agentic Forge",
                "url": "https://agenticforge.tech"
              }
            }
          ]
        }
      }
    ],
    "competitor": {
      "score": 0,
      "hasJsonLd": false,
      "jsonLdCount": 0,
      "hasMicrodata": false,
      "microdataCount": 0
    }
  }
}
🔍 Ads data included - Google: true Meta: true

🔍 Cache Status Check:
   Email: mush4rr4f@gmail.com
   Your Site: agenticforge.tech
   Competitor: pes.edu
🔍 [CompetitorCache] Looking up user by email: mush4rr4f@gmail.com
✅ [CompetitorCache] Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 [CompetitorCache] Checking cache: agenticforge.tech vs pes.edu
✅ [CompetitorCache] Cache hit! Age: 0 hours
⚠️ [CompetitorCache] Using legacy cache format (competitor only)

🔍 RAW REQUEST BODY: {
  "email": "mush4rr4f@gmail.com",
  "yourSite": "agenticforge.tech",
  "competitorSite": "pes.edu",
  "yourInstagram": "rvcollegeofengineering",
  "competitorInstagram": "pesuniversity",
  "yourFacebook": "RVCEngineering",
  "competitorFacebook": "pesuniversity",
  "forceRefresh": false
}

📊 Competitor Analysis Request:
   Your Site: agenticforge.tech
   Competitor: pes.edu
   Email: mush4rr4f@gmail.com
   Force Refresh: false
   Your Instagram: rvcollegeofengineering
   Competitor Instagram: pesuniversity
   Your Facebook: RVCEngineering
   Competitor Facebook: pesuniversity
   Has Instagram? true
   Has Facebook? true
🔍 [CompetitorCache] Looking up user by email: mush4rr4f@gmail.com
✅ [CompetitorCache] Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 [CompetitorCache] Checking cache: agenticforge.tech vs pes.edu
✅ [CompetitorCache] Cache hit! Age: 0 hours
⚠️ [CompetitorCache] Using legacy cache format (competitor only)
✅ Returning cached competitor analysis (legacy format)
⚠️ Your site data not cached, fetching fresh...
🔍 Cached competitor puppeteer.seo.headings: {
  h1: [ 'Pesuvians for Life' ],
  h2: [
    'Academics',
    'Meet our Faculty',
    'Academics',
    'Meet our Faculty',
    'Placements',
    'Placements',
    'Pesuvians for Life',
    'Research',
    'Research',
    'Campus Life'
  ],
  h3: [
    'Admissions 2026 Now Open',
    'Ph.D. and M.Tech by Research',
    'Scholarships',
    'Research Driven Learning',
    'Placements',
    'International Internships',
    'ADMISSIONS 2026 NOW OPEN',
    'Our Campuses',
    'PES University',
    'PES University',
    'PES University',
    'PES IMSR',
    'The Amaatra Academy',
    'PES Public School',
    'SSM Public School',
    'Our Campuses',
    'SSM Public School',
    'PES University',
    'PES University',
    'PES University',
    'PES IMSR',
    'The Amaatra Academy',
    'PES Public School',
    'SSM Public School',
    'PES University',
    'Undergraduate Education',
    'Postgraduate Education',
    'Lifelong Learning',
    'Dr. Shailashree Haridas',
    'Dr. V Krishna',
    'Dr. Shylaja S S',
    'Undergraduate Education',
    'Postgraduate Education',
    'Lifelong Learning',
    'Dr. Shailashree Haridas',
    'Dr. V Krishna',
    'Dr. Shylaja S S',
    'You may also be interested in',
    'Giving to PES',
    'Staying in Touch',
    'Discovering our Newsletters',
    'Information For',
    'Information About',
    'Important Info',
    'PESU Bot'
  ],
  h1Count: 1,
  h2Count: 10,
  h3Count: 45
}
   📦 Fetching cached data for user site: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Using expired Lighthouse cache (fallback mode)
   🔍 Lighthouse cache structure: ["url","chartData","timestamp","seoAnalysis","coreWebVitals","opportunities","categoryScores","resourceMetrics","scoreComparison","lighthouseVersion","performanceTimeline","accessibilityBreakdown","bestPracticesBreakdown"]
   🔍 Has categoryScores? true
   🔍 CategoryScores: {"seo":100,"performance":49,"accessibility":85,"bestPractices":96}
   ✅ Found cached Lighthouse data (Performance: 49)
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Using expired Search Console cache (fallback mode)
✅ Using cached Search Console data
   ℹ️ No PageSpeed data in Search Console cache
   ℹ️ No Technical SEO data in Search Console cache
   ℹ️ No Puppeteer data in Search Console cache
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 Checking SE Ranking cache for domain: agenticforge.tech
✅ SE Ranking cache hit! Age: 1413 minutes
   🔍 SE Ranking cache result: Found
   🔍 SE Ranking cache keys: [
  'note',            'source',
  'metrics',         'topTlds',
  'available',       'topAnchors',
  'topCountries',    'domainMetrics',
  'totalBacklinks',  'topLinkingPages',
  'topLinkingSites', 'totalRefDomains',
  'cached',          'cacheAge',
  'lastUpdated'
]
   🔍 Has backlinks_data? false
   🔍 Has totalBacklinks? true
   ✅ Found cached SE Ranking backlinks
   📊 Fetching traffic data for user site...
📊 Fetching user GA data for: mush4rr4f@gmail.com
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready
📊 Fetching GA properties for: mush4rr4f@gmail.com
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready, fetching properties...
✅ Found 1 GA4 properties
📌 Using first available property: 507800388
✅ User Analytics data received
   ✅ Got traffic data from Google Analytics (288 sessions)
   📝 Fetching content changes monitoring for user site...
   🔧 ChangeDetection service loaded successfully
📊 Analyzing content changes for: agenticforge.tech
🔍 Searching for watch with URL: agenticforge.tech
📋 Fetching all watches...
✅ Found 4 watches
✅ Found existing watch for https://agenticforge.tech: 318e5971-bbe5-4d04-821b-185250ec9164
🔍 Fetching details for watch: 318e5971-bbe5-4d04-821b-185250ec9164
📜 Fetching history for watch: 318e5971-bbe5-4d04-821b-185250ec9164
   📊 ChangeDetection response: {
  "success": true,
  "domain": "agenticforge.tech",
  "uuid": "318e5971-bbe5-4d04-821b-185250ec9164",
  "url": "https://agenticforge.tech",
  "monitoring": {
    "lastChecked": "2025-10-22T13:11:45.000Z",
    "lastChanged": null,
    "checkCount": 1,
    "changeCount": 0,
    "status": null,
    "paused": false
  },
  "triggers": [
    "price",
    "pricing",
    "new",
    "feature",
    "launch",
    "update",
    "release"
  ],
  "history": {},
  "activity": {
    "isActive": false,
    "daysSinceLastCheck": 0,
    "daysSinceLastChange": null,
    "totalChecks": 1,
    "totalChanges": 0,
    "changeFrequency": "no changes detected",
    "activityLevel": "inactive"
  },
  "comparison": "dormant"
}
   ✅ Got ChangeDetection monitoring data (1 checks, 0 changes)
   📌 Activity Level: inactive
   📸 Fetching Instagram engagement for: rvcollegeofengineering

📱 Starting Instagram engagement analysis for: rvcollegeofengineering
📸 Fetching Instagram CID for: rvcollegeofengineering
❌ Error fetching Instagram CID for rvcollegeofengineering: Request failed with status code 429
   📘 Fetching Facebook engagement for: RVCEngineering

📱 Analyzing Facebook page: RVCEngineering
═══════════════════════════════════════════════════


🔍 Fetching Facebook page info for: RVCEngineering
❌ Error fetching Facebook page info: Request failed with status code 429
❌ Analysis failed: Request failed with status code 429
   ⚠️ Failed to fetch Facebook data: Request failed with status code 429
   📊 Cached data summary:
      - Lighthouse: ✅
      - PageSpeed: ❌
      - Technical SEO: ❌
      - Puppeteer: ❌
      - Backlinks: ✅
      - Traffic: ✅
      - Content Changes (ChangeDetection): ✅
      - Content Updates (RSS/Sitemap): ❌
      - Instagram: ❌
      - Facebook: ❌
   🔍 Puppeteer data missing, fetching separately...
🔍 Starting Puppeteer analysis for: https://agenticforge.tech
📄 Loading page: https://agenticforge.tech
✅ Puppeteer analysis completed for: agenticforge.tech
🔴 Browser closed for agenticforge.tech
   ✅ Puppeteer analysis completed for user site
   🔍 PageSpeed data missing, fetching separately...
📱 Fetching PageSpeed data for: https://agenticforge.tech
📱 Fetching mobile and desktop PageSpeed data...
✅ PageSpeed data retrieved for agenticforge.tech
   Desktop: 69% | Mobile: 55%
   ✅ PageSpeed analysis completed for user site
🔍 Your site puppeteer.seo.headings: {
  h1: [
    'Scale Your Business with AI Automation',
    'Transforming Businesses\n with\nAI Automation'
  ],
  h2: [
    'Revolutionary AI\nBusiness Solutions',
    'See Our AI Agents in Action',
    'Why Choose AgenticForge',
    'Pioneering the Future of\nIntelligent Automation',
    'Ready to Transform\n Your Business?'
  ],
  h3: [
    'Intelligent Process Automation',
    'Advanced Customer Support AI',
    'Hyper-Personalized Marketing',
    'Enterprise Voice AI Agents',
    'Ready to Transform Your Business?',
    'Intelligent AI Architecture',
    'Smooth System Integration',
    'Data Privacy & Security',
    'Tailored AI Solutions',
    'Intelligent Voice Appointment System',
    'Live Demo Available',
    'BandhanAI Marketing Campaign Engine',
    'Interactive Platform',
    'About AgenticForge',
    'Smart AI Systems',
    'Fast Implementation',
    'Dedicated Support',
    'Democratizing Intelligence',
    'Get Your Free AI Audit',
    'AI ROI Calculator',
    'Services',
    'Company'
  ],
  h1Count: 2,
  h2Count: 5,
  h3Count: 22
}
🔍 Your site pagespeed data: EXISTS
🔍 Your site pagespeed structure: {
  "dataAvailable": true,
  "url": "https://agenticforge.tech",
  "desktop": {
    "strategy": "desktop",
    "performanceScore": 69,
    "category": "AVERAGE",
    "fieldData": {
      "lcp": null,
      "fid": null,
      "cls": null,
      "overall_category": "UNKNOWN"
    },
    "labData": {
      "lcp": 2846.047438256629,
      "fid": 398,
      "cls": 0.0010208138323906533,
      "fcp": 1212.506775102814,
      "tti": 2993.236376189954,
      "tbt": 254,
      "speedIndex": 1812.1988618024025
    }
  },
  "mobile": {
    "strategy": "mobile",
    "performanceScore": 55,
    "category": "AVERAGE",
    "fieldData": {
      "lcp": null,
      "fid": null,
      "cls": null,
      "overall_category": "UNKNOWN"
    },
    "labData": {
      "lcp": 13865.47481443498,
      "fid": 367,
      "cls": 0.002695607462246732,
      "fcp": 4767.910550629263,
      "tti": 14150.976698029286,
      "tbt": 308,
      "speedIndex": 5317.256832733669
    }
  }
}
   ✅ Using cached Google Ads data for competitor
   🟢 Fetching Google Ads monitoring for your cached site: agenticforge.tech
   ✅ Got your site Google Ads data (Total Ads: 0)
   ✅ Using cached ChangeDetection data for competitor
   ✅ Using cached Meta Ads data for competitor
   🟣 Fetching Meta Ads monitoring for your cached site: RVCEngineering
[MetaAds] getMetaAdsMonitoring called with username: RVCEngineering
[MetaAds] Username received for Page ID lookup: RVCEngineering
[MetaAds] Querying RapidAPI for Page ID with URL: https://www.facebook.com/RVCEngineering
[MetaAds] Error fetching Facebook page ID: {
  message: 'You have exceeded the MONTHLY quota for Requests on your current plan, BASIC. Upgrade your plan at https://rapidapi.com/ousema.frikha/api/facebook-pages-scraper2'
}
[MetaAds] Could not resolve Facebook page ID for username: RVCEngineering
   ⚠️ Failed to fetch your site Meta Ads data: Could not resolve Facebook page ID for username.
   📸 Fetching Instagram engagement for cached competitor: pesuniversity

📱 Starting Instagram engagement analysis for: pesuniversity
📸 Fetching Instagram CID for: pesuniversity
❌ Error fetching Instagram CID for pesuniversity: Request failed with status code 429
   📘 Fetching Facebook engagement for cached competitor: pesuniversity

📱 Analyzing Facebook page: pesuniversity
═══════════════════════════════════════════════════


🔍 Fetching Facebook page info for: pesuniversity
❌ Error fetching Facebook page info: Request failed with status code 429
❌ Analysis failed: Request failed with status code 429
   ⚠️ Failed to fetch competitor Facebook data: Request failed with status code 429
   ✅ Using cached traffic data for competitor
   ✅ Using cached traffic data for your site
🔍 SEO Comparison - yourSeoData.headings: {
  h1: [
    'Scale Your Business with AI Automation',
    'Transforming Businesses\n with\nAI Automation'
  ],
  h2: [
    'Revolutionary AI\nBusiness Solutions',
    'See Our AI Agents in Action',
    'Why Choose AgenticForge',
    'Pioneering the Future of\nIntelligent Automation',
    'Ready to Transform\n Your Business?'
  ],
  h3: [
    'Intelligent Process Automation',
    'Advanced Customer Support AI',
    'Hyper-Personalized Marketing',
    'Enterprise Voice AI Agents',
    'Ready to Transform Your Business?',
    'Intelligent AI Architecture',
    'Smooth System Integration',
    'Data Privacy & Security',
    'Tailored AI Solutions',
    'Intelligent Voice Appointment System',
    'Live Demo Available',
    'BandhanAI Marketing Campaign Engine',
    'Interactive Platform',
    'About AgenticForge',
    'Smart AI Systems',
    'Fast Implementation',
    'Dedicated Support',
    'Democratizing Intelligence',
    'Get Your Free AI Audit',
    'AI ROI Calculator',
    'Services',
    'Company'
  ],
  h1Count: 2,
  h2Count: 5,
  h3Count: 22
}
🔍 SEO Comparison - compSeoData.headings: {
  h1: [ 'Pesuvians for Life' ],
  h2: [
    'Academics',
    'Meet our Faculty',
    'Academics',
    'Meet our Faculty',
    'Placements',
    'Placements',
    'Pesuvians for Life',
    'Research',
    'Research',
    'Campus Life'
  ],
  h3: [
    'Admissions 2026 Now Open',
    'Ph.D. and M.Tech by Research',
    'Scholarships',
    'Research Driven Learning',
    'Placements',
    'International Internships',
    'ADMISSIONS 2026 NOW OPEN',
    'Our Campuses',
    'PES University',
    'PES University',
    'PES University',
    'PES IMSR',
    'The Amaatra Academy',
    'PES Public School',
    'SSM Public School',
    'Our Campuses',
    'SSM Public School',
    'PES University',
    'PES University',
    'PES University',
    'PES IMSR',
    'The Amaatra Academy',
    'PES Public School',
    'SSM Public School',
    'PES University',
    'Undergraduate Education',
    'Postgraduate Education',
    'Lifelong Learning',
    'Dr. Shailashree Haridas',
    'Dr. V Krishna',
    'Dr. Shylaja S S',
    'Undergraduate Education',
    'Postgraduate Education',
    'Lifelong Learning',
    'Dr. Shailashree Haridas',
    'Dr. V Krishna',
    'Dr. Shylaja S S',
    'You may also be interested in',
    'Giving to PES',
    'Staying in Touch',
    'Discovering our Newsletters',
    'Information For',
    'Information About',
    'Important Info',
    'PESU Bot'
  ],
  h1Count: 1,
  h2Count: 10,
  h3Count: 45
}
🔍 formatHeadings result: { h1Count: 2, h2Count: 5, h3Count: 22 }
🔍 formatHeadings result: { h1Count: 1, h2Count: 10, h3Count: 45 }
🔍 Final yourHeadings: { h1Count: 2, h2Count: 5, h3Count: 22 }
🔍 Final compHeadings: { h1Count: 1, h2Count: 10, h3Count: 45 }
🔍 Final yourSite.pagespeed in response: EXISTS
🔍 Final yourSite.contentChanges in response: EXISTS
🔍 Final yourSite.instagram in response: MISSING
🔍 Final competitorSite.instagram in response: MISSING
🔍 Final competitorSite.contentChanges in response: EXISTS
🔍 Generated comparison.seo: {
  "yours": 100,
  "competitor": 79,
  "difference": 21,
  "winner": "yours",
  "scores": {
    "your": 100,
    "competitor": 79
  },
  "metaTags": {
    "your": {
      "hasTitle": true,
      "hasDescription": true,
      "title": "AgenticForge - AI Automation & Custom AI Agents for Business",
      "description": "Transform your business with AgenticForge's intelligent AI automation. We build sophisticated AI agents, chatbots, voicebots, and workflow automations using cutting-edge AI technologies. 500+ AI tools mastered, 85% task automation rate."
    },
    "competitor": {
      "hasTitle": true,
      "hasDescription": false,
      "title": "PES University",
      "description": null
    }
  },
  "headings": {
    "your": {
      "h1Count": 2,
      "h2Count": 5,
      "h3Count": 22
    },
    "competitor": {
      "h1Count": 1,
      "h2Count": 10,
      "h3Count": 45
    }
  },
  "structuredData": {
    "your": [
      {
        "type": "Organization",
        "raw": {
          "@context": "https://schema.org",
          "@type": "Organization",
          "name": "AgenticForge",
          "url": "https://agenticforge.tech",
          "logo": "https://agenticforge.tech/heroLogo.png",
          "description": "Professional AI automation agency building sophisticated AI agents and workflow automations using cutting-edge technologies.",
          "sameAs": [
            "https://www.linkedin.com/company/agentic-forge",
            "https://twitter.com/agenticforge",
            "https://facebook.com/agenticforge",
            "https://www.instagram.com/agenticforge"
          ]
        }
      },
      {
        "type": "Organization",
        "raw": {
          "@context": "https://schema.org",
          "@type": "Organization",
          "name": "AgenticForge",
          "url": "https://agenticforge.tech",
          "logo": "https://agenticforge.tech/heroLogo.png",
          "sameAs": [
            "https://www.linkedin.com/company/agentic-forge",
            "https://twitter.com/agenticforge",
            "https://facebook.com/agenticforge",
            "https://www.instagram.com/agenticforge"
          ],
          "description": "Transform your business with AgenticForge's intelligent AI automation. We build sophisticated AI agents, chatbots, voicebots, and workflow automations using cutting-edge AI technologies.",
          "address": {
            "@type": "PostalAddress",
            "addressCountry": "US"
          },
          "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "email": "agenticforge.tech@gmail.com",
            "availableLanguage": [
              "English"
            ]
          }
        }
      },
      {
        "type": "ItemList",
        "raw": {
          "@context": "https://schema.org",
          "@type": "ItemList",
          "itemListElement": [
            {
              "@type": "Case",
              "position": 1,
              "name": "Intelligent Voice Appointment System",
              "description": "Manual appointment scheduling was consuming 15+ hours weekly, with high no-show rates and poor customer experience due to delayed responses",
              "result": [
                "15 hours of weekly admin work eliminated",
                "78% reduction in no-show appointments",
                "24/7 automated appointment booking capability",
                "Seamless integration with existing calendar systems"
              ],
              "industry": "Healthcare & Professional Services",
              "provider": {
                "@type": "Organization",
                "name": "Agentic Forge",
                "url": "https://agenticforge.tech"
              }
            },
            {
              "@type": "Case",
              "position": 2,
              "name": "BandhanAI Marketing Campaign Engine",
              "description": "Generic mass emails resulted in low engagement rates, manual campaign management was time-intensive, and no real-time performance tracking",
              "result": [
                "340% increase in email engagement rates",
                "Automated personalized campaigns based on purchase history",
                "Real-time campaign performance tracking via Slack",
                "Dynamic customer segmentation and targeting"
              ],
              "industry": "E-commerce & Retail",
              "provider": {
                "@type": "Organization",
                "name": "Agentic Forge",
                "url": "https://agenticforge.tech"
              }
            }
          ]
        }
      }
    ],
    "competitor": {
      "score": 0,
      "hasJsonLd": false,
      "jsonLdCount": 0,
      "hasMicrodata": false,
      "microdataCount": 0
    }
  }
}
🔍 Ads data included - Google: true Meta: true
🔍 Checking OAuth status for: mush4rr4f@gmail.com
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
🔍 Checking OAuth status for: mush4rr4f@gmail.com
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
📊 Fetching Search Console data for: mush4rr4f@gmail.com
🔍 Looking up user by email: mush4rr4f@gmail.com
📊 Fetching analytics with range: 30days
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
⏰ Search Console cache expired
📡 Fetching fresh data from Google Search Console...
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
⏰ Google Analytics cache expired
📡 Fetching fresh data from Google Analytics...
📊 Fetching user GA data for: mush4rr4f@gmail.com
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready
📊 Fetching GA properties for: mush4rr4f@gmail.com
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ Found 1 sites in Search Console
📍 Using site: sc-domain:agenticforge.tech
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready, fetching properties...
📈 Retrieved 4 query rows, 1 page rows, 18 daily rows
� Extracted domain from sc-domain format: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 Checking SE Ranking cache for domain: agenticforge.tech
✅ SE Ranking cache hit! Age: 1416 minutes
✅ Using cached SE Ranking backlinks data
✅ Search Console data retrieved successfully
📊 Stats: 0 clicks, 11 impressions, 1 organic traffic
🔦 Fetching Lighthouse data for domain: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
⏰ Lighthouse cache expired
📞 Calling lighthouseService.analyzeSite...
🔦 Running comprehensive Lighthouse audit for: https://agenticforge.tech
✅ Found 1 GA4 properties
📌 Using first available property: 507800388
✅ User Analytics data received
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Google Analytics data cached successfully
✅ Comprehensive Lighthouse audit completed for agenticforge.tech
📊 Category Scores: { performance: 56, accessibility: 85, bestPractices: 96, seo: 100 }
💾 Result saved to savedResult variable
📬 Received response from lighthouseService: DATA
✅ Lighthouse: Performance 56%
🔍 Looking up user by email: mush4rr4f@gmail.com
📊 Fetching Search Console data for: mush4rr4f@gmail.com
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
📊 Fetching Search Console data for: mush4rr4f@gmail.com
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Lighthouse data cached successfully for domain: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
⏰ Search Console cache expired
📡 Fetching fresh data from Google Search Console...
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
⏰ Search Console cache expired
📡 Fetching fresh data from Google Search Console...
🔍 Fetching OAuth tokens for: mush4rr4f@gmail.com (google)
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Search Console data cached successfully
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready
✅ OAuth tokens retrieved for: mush4rr4f@gmail.com (google)
✅ OAuth client ready for: mush4rr4f@gmail.com
✅ OAuth client ready
✅ Found 1 sites in Search Console
📍 Using site: sc-domain:agenticforge.tech
✅ Found 1 sites in Search Console
📍 Using site: sc-domain:agenticforge.tech
📈 Retrieved 4 query rows, 1 page rows, 18 daily rows
� Extracted domain from sc-domain format: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 Checking SE Ranking cache for domain: agenticforge.tech
✅ SE Ranking cache hit! Age: 1416 minutes
✅ Using cached SE Ranking backlinks data
✅ Search Console data retrieved successfully
📊 Stats: 0 clicks, 11 impressions, 1 organic traffic
🔦 Fetching Lighthouse data for domain: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
📈 Retrieved 4 query rows, 1 page rows, 18 daily rows
� Extracted domain from sc-domain format: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
🔍 Checking SE Ranking cache for domain: agenticforge.tech
✅ Using cached Lighthouse data
✅ Using cached Lighthouse data
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ SE Ranking cache hit! Age: 1416 minutes
✅ Using cached SE Ranking backlinks data
✅ Search Console data retrieved successfully
📊 Stats: 0 clicks, 11 impressions, 1 organic traffic
🔦 Fetching Lighthouse data for domain: agenticforge.tech
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Search Console data cached successfully
✅ Using cached Lighthouse data
✅ Using cached Lighthouse data
🔍 Looking up user by email: mush4rr4f@gmail.com
✅ Found user ID: 253da6c3-dac8-48b8-8254-700890f2b7fc
✅ Search Console data cached successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
🔧 Services loaded: {
  lighthouse: true,
  pagespeed: true,
  analytics: true,
  scoring: true,
  searchConsole: true,
  technicalSEO: true
}
🔍 Supabase Config Check:
   SUPABASE_URL: https://krgaukhigntjdfacppbq.s...
   SUPABASE_SERVICE_KEY: SET
🔍 OAuth Route Environment Check:
GOOGLE_CLIENT_ID: 5384374065...
GOOGLE_CLIENT_SECRET: SET
GOOGLE_REDIRECT_URI: http://localhost:3010/api/auth/google/callback
FRONTEND_URL: http://localhost:3002
✅ OAuth2 client initialized successfully
🔍 Facebook OAuth Route Environment Check:
FACEBOOK_APP_ID: 1146428707...
FACEBOOK_APP_SECRET: SET
FRONTEND_URL: http://localhost:3002
✅ Facebook OAuth client initialized successfully
   Redirect URI: http://localhost:3010/api/auth/facebook/callback
🚀 SEO Health Score API running on port 3010
📍 Health endpoint: http://localhost:3010/api/status
🔐 Google Auth: http://localhost:3010/api/auth/google
📘 Facebook Auth: http://localhost:3010/api/auth/facebook
⚡ Lighthouse: http://localhost:3010/api/lighthouse
📈 Analytics: http://localhost:3010/api/analytics
🔍 Search Console: http://localhost:3010/api/search-console
📊 Traffic: http://localhost:3010/api/traffic
🏆 Competitor: http://localhost:3010/api/competitor
📱 Facebook Metrics: http://localhost:3010/api/facebook

🤖 AI Recommendations Request:
   Your Site: agenticforge.tech
   Competitor: pes.edu
🤖 Calling Gemini AI service...
🤖 Generating AI recommendations with Gemini (attempt 1/2)...
❌ Attempt 1 failed: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-flash-latest:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.
⏳ Waiting 2 seconds before retry...
🤖 Generating AI recommendations with Gemini (attempt 2/2)...
✅ AI recommendations generated successfully
✅ Generated 3 AI recommendations
🔍 Checking Facebook connection status for: test@example.com
🔍 Fetching OAuth tokens for: test@example.com (facebook)
✅ OAuth tokens retrieved for: test@example.com (facebook)
✅ Facebook connection status: EAAQSq7vgYpUBPm5PtRwJgdlEiEBrTW6TNZBXKikj7iZAycEOfW1QRgHBxirqDdBvgLT9pCFITkIrmzEu0qvoQ7ftlZBrXrsk7piBhELXA7WEZCX4VIg7UNngpPTUvuZCFRMSZBiXVeQqBoeWJMc7w1hVde5mHDeVNOGyVZCGnyI9KvFQSZBbMbWXk5PgLXw2
🔍 Checking Facebook connection status for: test@example.com
🔍 Fetching OAuth tokens for: test@example.com (facebook)
📊 Fetching Facebook metrics for: test@example.com, period: month
📊 Fetching comprehensive Facebook metrics for: test@example.com
   ⏱️  Period: month
   🔄 Starting parallel fetch of engagement, posts, and follower growth...
🔍 Fetching OAuth tokens for: test@example.com (facebook)
🔍 Fetching OAuth tokens for: test@example.com (facebook)
🔍 Fetching OAuth tokens for: test@example.com (facebook)
✅ OAuth tokens retrieved for: test@example.com (facebook)
✅ Facebook connection status: EAAQSq7vgYpUBPm5PtRwJgdlEiEBrTW6TNZBXKikj7iZAycEOfW1QRgHBxirqDdBvgLT9pCFITkIrmzEu0qvoQ7ftlZBrXrsk7piBhELXA7WEZCX4VIg7UNngpPTUvuZCFRMSZBiXVeQqBoeWJMc7w1hVde5mHDeVNOGyVZCGnyI9KvFQSZBbMbWXk5PgLXw2
✅ OAuth tokens retrieved for: test@example.com (facebook)
🔍 Fetching Facebook pages for user...
✅ OAuth tokens retrieved for: test@example.com (facebook)
🔍 Fetching Facebook pages for user...
✅ OAuth tokens retrieved for: test@example.com (facebook)
🔍 Fetching Facebook pages for user...
✅ Found 1 Facebook page(s)
   📄 Page 1: Agentic Forge (0 followers)
📝 Fetching top posts for page: Agentic Forge
   📥 Requesting 8 posts (will filter to top 4)
✅ Found 1 Facebook page(s)
   📄 Page 1: Agentic Forge (0 followers)
📊 Fetching engagement metrics for page: Agentic Forge
   📥 Requesting day metrics: page_impressions, page_impressions_unique, page_actions_post_reactions_total
✅ Found 1 Facebook page(s)
   📄 Page 1: Agentic Forge (0 followers)
📈 Fetching follower growth for page: Agentic Forge
   📥 Requesting 30 days of follower data
   ✅ Received 3 day metrics
      • page_impressions: 12 (last 30 days)
      • page_impressions_unique: 1 (last 30 days)
      • page_actions_post_reactions_total: 0[object Object][object Object] (last 30 days)
   📥 Requesting lifetime metrics: page_fans
   ✅ Received insights for 3 metrics
      • page_fans: 2 data points
      • page_fan_adds: 2 data points
      • page_fan_removes: 2 data points
   ✅ Processed 2 days of follower growth data
   📊 Latest: 0 followers (+0, -0)
   ✅ Retrieved 8 posts from API
   🔄 Processing posts and fetching engagement data...
      📄 Post 1: 1 reactions, 9 comments, 0 shares
      📄 Post 2: 1 reactions, 1 comments, 0 shares
      📄 Post 3: 1 reactions, 0 comments, 0 shares
      📄 Post 4: 0 reactions, 0 comments, 0 shares
   ✅ Received 0 lifetime metrics
   📊 Calculated engagement rate: NaN%
   ✅ Engagement metrics fetched successfully
         ✓ Insights: 5 impressions, 2 reach
         ✓ Insights: 3 impressions, 2 reach
         ✓ Insights: 3 impressions, 2 reach
         ✓ Insights: 3 impressions, 2 reach
   ✅ Processed 4 posts successfully
   🏆 Top post has 10 total engagements
   ✅ All data fetched successfully
   📊 Calculated reputation score: NaN/100
   📈 Total engagements from top posts: 13
✅ Comprehensive metrics compiled successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
🔧 Services loaded: {
  lighthouse: true,
  pagespeed: true,
  analytics: true,
  scoring: true,
  searchConsole: true,
  technicalSEO: true
}
🔍 Supabase Config Check:
   SUPABASE_URL: https://krgaukhigntjdfacppbq.s...
   SUPABASE_SERVICE_KEY: SET
🔍 OAuth Route Environment Check:
GOOGLE_CLIENT_ID: 5384374065...
GOOGLE_CLIENT_SECRET: SET
GOOGLE_REDIRECT_URI: http://localhost:3010/api/auth/google/callback
FRONTEND_URL: http://localhost:3002
✅ OAuth2 client initialized successfully
🔍 Facebook OAuth Route Environment Check:
FACEBOOK_APP_ID: 1146428707...
FACEBOOK_APP_SECRET: SET
FRONTEND_URL: http://localhost:3002
✅ Facebook OAuth client initialized successfully
   Redirect URI: http://localhost:3010/api/auth/facebook/callback
🚀 SEO Health Score API running on port 3010
📍 Health endpoint: http://localhost:3010/api/status
🔐 Google Auth: http://localhost:3010/api/auth/google
📘 Facebook Auth: http://localhost:3010/api/auth/facebook
⚡ Lighthouse: http://localhost:3010/api/lighthouse
📈 Analytics: http://localhost:3010/api/analytics
🔍 Search Console: http://localhost:3010/api/search-console
📊 Traffic: http://localhost:3010/api/traffic
🏆 Competitor: http://localhost:3010/api/competitor
📱 Facebook Metrics: http://localhost:3010/api/facebook
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
🔧 Services loaded: {
  lighthouse: true,
  pagespeed: true,
  analytics: true,
  scoring: true,
  searchConsole: true,
  technicalSEO: true
}
🔍 Supabase Config Check:
   SUPABASE_URL: https://krgaukhigntjdfacppbq.s...
   SUPABASE_SERVICE_KEY: SET
🔍 OAuth Route Environment Check:
GOOGLE_CLIENT_ID: 5384374065...
GOOGLE_CLIENT_SECRET: SET
GOOGLE_REDIRECT_URI: http://localhost:3010/api/auth/google/callback
FRONTEND_URL: http://localhost:3002
✅ OAuth2 client initialized successfully
🔍 Facebook OAuth Route Environment Check:
FACEBOOK_APP_ID: 1146428707...
FACEBOOK_APP_SECRET: SET
FRONTEND_URL: http://localhost:3002
✅ Facebook OAuth client initialized successfully
   Redirect URI: http://localhost:3010/api/auth/facebook/callback
🚀 SEO Health Score API running on port 3010
📍 Health endpoint: http://localhost:3010/api/status
🔐 Google Auth: http://localhost:3010/api/auth/google
📘 Facebook Auth: http://localhost:3010/api/auth/facebook
⚡ Lighthouse: http://localhost:3010/api/lighthouse
📈 Analytics: http://localhost:3010/api/analytics
🔍 Search Console: http://localhost:3010/api/search-console
📊 Traffic: http://localhost:3010/api/traffic
🏆 Competitor: http://localhost:3010/api/competitor
📱 Facebook Metrics: http://localhost:3010/api/facebook
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
🔧 Services loaded: {
  lighthouse: true,
  pagespeed: true,
  analytics: true,
  scoring: true,
  searchConsole: true,
  technicalSEO: true
}
🔍 Supabase Config Check:
   SUPABASE_URL: https://krgaukhigntjdfacppbq.s...
   SUPABASE_SERVICE_KEY: SET
🔍 OAuth Route Environment Check:
GOOGLE_CLIENT_ID: 5384374065...
GOOGLE_CLIENT_SECRET: SET
GOOGLE_REDIRECT_URI: http://localhost:3010/api/auth/google/callback
FRONTEND_URL: http://localhost:3002
✅ OAuth2 client initialized successfully
🔍 Facebook OAuth Route Environment Check:
FACEBOOK_APP_ID: 1146428707...
FACEBOOK_APP_SECRET: SET
FRONTEND_URL: http://localhost:3002
✅ Facebook OAuth client initialized successfully
   Redirect URI: http://localhost:3010/api/auth/facebook/callback
🚀 SEO Health Score API running on port 3010
📍 Health endpoint: http://localhost:3010/api/status
🔐 Google Auth: http://localhost:3010/api/auth/google
📘 Facebook Auth: http://localhost:3010/api/auth/facebook
⚡ Lighthouse: http://localhost:3010/api/lighthouse
📈 Analytics: http://localhost:3010/api/analytics
🔍 Search Console: http://localhost:3010/api/search-console
📊 Traffic: http://localhost:3010/api/traffic
🏆 Competitor: http://localhost:3010/api/competitor
📱 Facebook Metrics: http://localhost:3010/api/facebook
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
🔧 Services loaded: {
  lighthouse: true,
  pagespeed: true,
  analytics: true,
  scoring: true,
  searchConsole: true,
  technicalSEO: true
}
🔍 Supabase Config Check:
   SUPABASE_URL: https://krgaukhigntjdfacppbq.s...
   SUPABASE_SERVICE_KEY: SET
🔍 OAuth Route Environment Check:
GOOGLE_CLIENT_ID: 5384374065...
GOOGLE_CLIENT_SECRET: SET
GOOGLE_REDIRECT_URI: http://localhost:3010/api/auth/google/callback
FRONTEND_URL: http://localhost:3002
✅ OAuth2 client initialized successfully
🔍 Facebook OAuth Route Environment Check:
FACEBOOK_APP_ID: 1146428707...
FACEBOOK_APP_SECRET: SET
FRONTEND_URL: http://localhost:3002
✅ Facebook OAuth client initialized successfully
   Redirect URI: http://localhost:3010/api/auth/facebook/callback
🚀 SEO Health Score API running on port 3010
📍 Health endpoint: http://localhost:3010/api/status
🔐 Google Auth: http://localhost:3010/api/auth/google
📘 Facebook Auth: http://localhost:3010/api/auth/facebook
⚡ Lighthouse: http://localhost:3010/api/lighthouse
📈 Analytics: http://localhost:3010/api/analytics
🔍 Search Console: http://localhost:3010/api/search-console
📊 Traffic: http://localhost:3010/api/traffic
🏆 Competitor: http://localhost:3010/api/competitor
📱 Facebook Metrics: http://localhost:3010/api/facebook
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
🔧 Services loaded: {
  lighthouse: true,
  pagespeed: true,
  analytics: true,
  scoring: true,
  searchConsole: true,
  technicalSEO: true
}
🔍 Supabase Config Check:
   SUPABASE_URL: https://krgaukhigntjdfacppbq.s...
   SUPABASE_SERVICE_KEY: SET
🔍 OAuth Route Environment Check:
GOOGLE_CLIENT_ID: 5384374065...
GOOGLE_CLIENT_SECRET: SET
GOOGLE_REDIRECT_URI: http://localhost:3010/api/auth/google/callback
FRONTEND_URL: http://localhost:3002
✅ OAuth2 client initialized successfully
🔍 Facebook OAuth Route Environment Check:
FACEBOOK_APP_ID: 1146428707...
FACEBOOK_APP_SECRET: SET
FRONTEND_URL: http://localhost:3002
✅ Facebook OAuth client initialized successfully
   Redirect URI: http://localhost:3010/api/auth/facebook/callback
🚀 SEO Health Score API running on port 3010
📍 Health endpoint: http://localhost:3010/api/status
🔐 Google Auth: http://localhost:3010/api/auth/google
📘 Facebook Auth: http://localhost:3010/api/auth/facebook
⚡ Lighthouse: http://localhost:3010/api/lighthouse
📈 Analytics: http://localhost:3010/api/analytics
🔍 Search Console: http://localhost:3010/api/search-console
📊 Traffic: http://localhost:3010/api/traffic
🏆 Competitor: http://localhost:3010/api/competitor
📱 Facebook Metrics: http://localhost:3010/api/facebook
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
node:internal/modules/package_json_reader:266
  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);
        ^

Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'pdfkit' imported from C:\Users\Musharraf\Documents\SaaS\backend\services\pdfReportService.js
    at Object.getPackageJSONURL (node:internal/modules/package_json_reader:266:9)
    at packageResolve (node:internal/modules/esm/resolve:767:81)
    at moduleResolve (node:internal/modules/esm/resolve:853:18)
    at defaultResolve (node:internal/modules/esm/resolve:983:11)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:731:20)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:708:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:310:38)
    at ModuleJob._link (node:internal/modules/esm/module_job:183:49)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ERR_MODULE_NOT_FOUND'
}

Node.js v22.20.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
node:internal/modules/package_json_reader:266
  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);
        ^

Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'pdfkit' imported from C:\Users\Musharraf\Documents\SaaS\backend\services\pdfReportService.js
    at Object.getPackageJSONURL (node:internal/modules/package_json_reader:266:9)
    at packageResolve (node:internal/modules/esm/resolve:767:81)
    at moduleResolve (node:internal/modules/esm/resolve:853:18)
    at defaultResolve (node:internal/modules/esm/resolve:983:11)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:731:20)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:708:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:310:38)
    at ModuleJob._link (node:internal/modules/esm/module_job:183:49)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ERR_MODULE_NOT_FOUND'
}

Node.js v22.20.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
node:internal/modules/package_json_reader:266
  throw new ERR_MODULE_NOT_FOUND(packageName, fileURLToPath(base), null);
        ^

Error [ERR_MODULE_NOT_FOUND]: Cannot find package 'pdfkit' imported from C:\Users\Musharraf\Documents\SaaS\backend\services\pdfReportService.js
    at Object.getPackageJSONURL (node:internal/modules/package_json_reader:266:9)
    at packageResolve (node:internal/modules/esm/resolve:767:81)
    at moduleResolve (node:internal/modules/esm/resolve:853:18)
    at defaultResolve (node:internal/modules/esm/resolve:983:11)
    at #cachedDefaultResolve (node:internal/modules/esm/loader:731:20)
    at ModuleLoader.resolve (node:internal/modules/esm/loader:708:38)
    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:310:38)
    at ModuleJob._link (node:internal/modules/esm/module_job:183:49)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'ERR_MODULE_NOT_FOUND'
}

Node.js v22.20.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
^C